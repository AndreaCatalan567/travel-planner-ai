import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature:  1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Uri, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a 3-day, budget-friendly trip to Las Vegas for a couple.  I'll include hotel options and a detailed itinerary.  Since generating real-time prices and perfect \"current\" details like occupancy is impossible, I'll use estimated prices and ratings based on research.\n\n```json\n{\n  \"tripName\": \"Las Vegas on a Budget: 3-Day Couple's Getaway\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"currency\": \"USD\",\n  \"location\": \"Las Vegas, Nevada, USA\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"priceRange\": \"$40 - $80 per night (estimate)\",\n      \"hotelImageUri\": \"https://www.circuscircus.com/wp-content/uploads/2023/01/circus_circus_hotel_casino_pool_complex_2021_2.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1260,\n        \"longitude\": -115.1669\n      },\n      \"rating\": 3.5,\n      \"description\": \"Budget-friendly option on the Strip. Features a circus-themed atmosphere, Adventuredome indoor theme park, and various dining choices. Can be noisy and crowded.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"priceRange\": \"$50 - $90 per night (estimate)\",\n      \"hotelImageUri\": \"https://www.mgmresorts.com/content/dam/MGM/excalibur/property-details/hotel/excalibur-hotel-exterior-daytime.tif\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 3.7,\n      \"description\": \"Medieval-themed hotel at the south end of the Strip. Offers affordable rooms, multiple pools, and entertainment options. Good for families and budget travelers.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"priceRange\": \"$45 - $85 per night (estimate)\",\n      \"hotelImageUri\": \"https://media.cntraveler.com/photos/64c989557559411c685252b9/16:9/w_3840,h_2160,c_limit/The%20Strat_Exterior_Twilight.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1456,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.6,\n      \"description\": \"Located further north on the Strip. Offers stunning views from the Stratosphere Tower (additional fee). Rooms are basic but affordable. Check for discounts and deals.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign marking the entrance to the Las Vegas Strip. Great for photo opportunities.\",\n          \"placeImageUri\": \"https://www.lasvegasadvisor.com/wp-content/uploads/2019/07/welcome-to-fabulous-las-vegas-sign-4.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Early morning (less crowded) or evening (for lighting)\",\n          \"travelTimeFromHotel\": \"Varies depending on hotel location (10-20 minutes by ride share)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays inside the Bellagio Hotel.\",\n          \"placeImageUri\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory/bellagio-conservatory-chinese-new-year-2024-800x450.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"bestTimeToVisit\": \"Mid-morning or afternoon (can get crowded)\",\n          \"travelTimeFromPrevious\": \"5-10 minutes walking\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show set to music in front of the Bellagio Hotel.\",\n          \"placeImageUri\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-day.tif\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"bestTimeToVisit\": \"Anytime during show hours (check schedule). Evenings are especially magical.\",\n          \"travelTimeFromPrevious\": \"Immediate - it's right outside the Conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, people-watch, and enjoy the sights and sounds of the Las Vegas Strip. Walk to the Paris Hotel and see the Eiffel Tower replica.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/The_Strip_at_night_%28cropped%29.jpg/1280px-The_Strip_at_night_%28cropped%29.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1735\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Evening, when the lights are on.\",\n          \"travelTimeFromPrevious\": \"Variable, depending on how far you walk\"\n        },\n        {\n          \"placeName\": \"Free Show at the Fremont Street Experience\",\n          \"placeDetails\": \"Light show and entertainment on Fremont Street in Downtown Las Vegas.\",\n          \"placeImageUri\": \"https://vegasexperience.com/wp-content/uploads/2023/09/fremont-st-experience-1-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"bestTimeToVisit\": \"Evening (shows typically start after dark)\",\n          \"travelTimeFromPrevious\": \"30-45 minutes by ride share/bus from the Strip\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Budget-Friendly Activities\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience (Daytime)\",\n          \"placeDetails\": \"Explore the Fremont Street Experience during the day. See the street performers and unique shops. Consider ziplining (additional cost).\",\n          \"placeImageUri\": \"https://i.insider.com/58c2b98dd3bd221c008b4e9e?width=700\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (ziplining is extra)\",\n          \"rating\": 4.2,\n          \"bestTimeToVisit\": \"Morning or early afternoon (less crowded than evening)\",\n          \"travelTimeFromHotel\": \"Varies depending on hotel location (30-45 minutes by ride share/bus)\"\n        },\n        {\n          \"placeName\": \"Pawn Stars Shop (Gold & Silver Pawn Shop)\",\n          \"placeDetails\": \"Visit the famous pawn shop featured in the TV show \\\"Pawn Stars\\\".  May be crowded.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/f/f8/Gold_and_Silver_Pawn_Shop_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1722,\n            \"longitude\": -115.1439\n          },\n          \"ticketPricing\": \"Free to enter (buying/selling is extra)\",\n          \"rating\": 3.8,\n          \"bestTimeToVisit\": \"Mid-morning or early afternoon to avoid the worst crowds\",\n          \"travelTimeFromPrevious\": \"5-10 minutes walking\"\n        },\n        {\n          \"placeName\": \"Neon Museum Boneyard (Optional - Budget-Dependent)\",\n          \"placeDetails\": \"Outdoor exhibit of vintage Las Vegas signs. Requires ticket purchase.  Consider if budget allows; otherwise, view from the perimeter.\",\n          \"placeImageUri\": \"https://roadtrippers.com/api/v1/trips/places/70979/photos/134640/filters/auto_orient%2C%20quality(60)/versions/1300\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1769,\n            \"longitude\": -115.1403\n          },\n          \"ticketPricing\": \"$28-38 (check current prices)\",\n          \"rating\": 4.6,\n          \"bestTimeToVisit\": \"Daytime or evening (evening tours are more atmospheric)\",\n          \"travelTimeFromPrevious\": \"5-10 minutes by ride share/bus\",\n          \"alternative\":\"If budget doesn't allow this, skip and explore more of Fremont Street.\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique outdoor shopping and entertainment venue made from shipping containers.  Features a playground and live music (check schedule).\",\n          \"placeImageUri\": \"https://www.visitlasvegas.com/wp-content/uploads/2023/10/dlv_0069-hdr_web-min.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1686,\n            \"longitude\": -115.1405\n          },\n          \"ticketPricing\": \"Free to enter (individual attractions may have fees)\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Afternoon or early evening\",\n          \"travelTimeFromPrevious\": \"5-10 minutes walking\"\n        },\n        {\n          \"placeName\": \"Enjoy Happy Hour\",\n          \"placeDetails\": \"Find affordable happy hour deals at bars and restaurants in Downtown Las Vegas or on the Strip.\",\n          \"placeImageUri\": \"https://www.vegas.com/wp-content/uploads/2023/02/happy-hour-feature-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Varies (check prices)\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Late afternoon/early evening\",\n          \"travelTimeFromPrevious\": \"Variable\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller Observation Wheel and departure\",\n      \"activities\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Enjoy a ride on the High Roller Observation Wheel for panoramic views of the Las Vegas Strip and surrounding area.\",\n          \"placeImageUri\": \"https://caesars.com/content/dam/high-roller-lv/things-to-do/experiences/high-roller/high-roller-experience-daytime.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1159,\n            \"longitude\": -115.1691\n          },\n          \"ticketPricing\": \"$25-37 (check current prices)\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Before departure , during the morning before the crowds.\",\n          \"travelTimeFromHotel\": \"Varies depending on hotel location (30-45 minutes by ride share/bus)\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions.\",\n    \"Walk the Strip instead of taking taxis/ride shares whenever possible.\",\n    \"Eat at affordable restaurants or food courts.\",\n    \"Utilize happy hour deals for drinks and snacks.\",\n    \"Consider buying a day pass for the Las Vegas bus system.\",\n    \"Look for coupons and discounts online.\",\n    \"Bring your own snacks and drinks.\",\n    \"Take advantage of free hotel amenities (pools, gyms).\",\n    \"Avoid gambling too much!\"\n  ]\n}\n```\n\n**Important Notes and Disclaimers:**\n\n*   **Prices:** Hotel and ticket prices are *estimates* and can vary greatly depending on the time of year, day of the week, special events, and how far in advance you book.  Always check current pricing before you go.\n*   **Ratings:**  Ratings are based on averages from various travel sites and are subjective.\n*   **Transportation:** I've suggested ride shares/buses. Walking is also possible, but Las Vegas distances can be deceiving, especially in the heat.\n*   **Flexibility:**  This itinerary is a suggestion.  Adjust it to your interests and energy levels.\n*   **Safety:** Be aware of your surroundings, especially at night. Stay hydrated.\n\nThis detailed JSON provides a starting point for planning your budget-friendly Las Vegas trip. Have a great time!\n"},
          ],
        },
      ],
    });
  
